MVI A, 02
OUT 40
MVI A, 0C
OUT 00
MVI A, 3C
OUT 03
LXI SP, FF
JMP START

#ORG 44
START:
MVI A, 01
OUT 42
NEXT:
CALL DELAY
IN 42
RLC
OUT 42
CPI 80
JZ NEXT2
JMP NEXT
NEXT2:
CALL DELAY
IN 42
RRC
OUT 42
CPI 01
JZ NEXT
JMP NEXT2

DELAY:
LXI B,186F
DELAYLoop:
DCX B
MOV A,B
ORA C
JNZ DELAYLoop
RET
